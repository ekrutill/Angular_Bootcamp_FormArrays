<h2 class="m-4">New Class</h2>
<form [formGroup]="form">
  <div class="container container-fluid">
    <div class="row">
      <div class="col-md-7 col-xs-5">
        <label class="form-label my-2" for="className">Class name: </label>
        <input
          class="form-control"
          type="text"
          id="className"
          formControlName="className"
          [class.is-invalid]="className.touched && className.invalid"
        />
        <p *ngIf="className.touched && className.invalid" class="invalid-feedback" id="className"> Required * </p>
      </div>

      <div class="col-md-5 col-xs-7">
        <label class="form-label my-2" for="numberOfStudents">Number of students: (max number: 5)</label>
        <div class="input-field"> {{numberOfStudents}}</div>
      </div>

    </div>

    <hr />

    <div
      class="row"
      *ngFor="let studentFormGroup of students.controls; let i = index"
      [formGroup]="getStudents(studentFormGroup)"
    >
    

      <div class="col-md-3 col-xs-12">
        <label class="form-label" for="name">Name</label>
        <input
          class="form-control"
          type="text"
          id="name"
          formControlName="name"
        />
      </div>

      <div class="col-md-3 col-xs-12">
        <label class="form-label" for="gender">Gender</label>
        <select class="form-control" formControlName="gender">
          <!-- <option>- Select -</option> -->
          <option [value]="'Fe'" name="genderFemale" id="genderFemale" >Female</option>
          <option [value]="'Ma'" name="genderMale" id="genderMale">Male</option>
        </select>
      </div>

      <div class="col-md-3 col-xs-12">
        <label class="form-label" for="email">Email</label>
        <input
          class="form-control"
          type="text"
          id="email"
          formControlName="email"
        />
      </div>

      <div class="col-md-3 col-xs-12">
        <button class="btn btn-danger" style="margin-top:30px;" (click)="deleteStudent(i)">
          Delete Student
        </button>
      </div>



    </div>
  </div>

  <button class="btn btn-primary px-4 m-3" (click)="newStudent()" [disabled]="numberOfStudents == 5" >
    New Student
  </button>
  <p *ngIf="numberOfStudents == 5" style="color:red"> Maximum number of students: 5</p>
</form>

<button class="btn btn-info m-3 px-3" (click)="onSubmit()" type="submit" [disabled]="!form.valid">
  Submit
</button>
